(this["webpackJsonpwieldy-hook"]=this["webpackJsonpwieldy-hook"]||[]).push([[6],{411:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return d})),n.d(t,"h",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"i",(function(){return v})),n.d(t,"g",(function(){return E}));n(24),n(54),n(158);var a=n(141),r=n.n(a),l=n(159),o=n(15),c=n(81),A=n(155),i=function(e){return function(){var t=Object(l.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:o.d}),t.next=4,c.a.post("".concat(o.j,"/patient/addpatient"),e);case 4:t.sent&&(n({type:o.e}),A.b.success("Patient Added")),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),a=t.t0.response.data,A.b.error(a),console.log("Error****:",a);case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},u=function(e){return function(){var e=Object(l.a)(r.a.mark((function e(t){var n,a,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:o.d}),e.next=4,c.a.get("".concat(o.j,"/patient/getallpatients"));case 4:(n=e.sent)&&(t({type:o.e}),t({type:o.f,payload:n.data})),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),l=null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.data,A.b.error(l),console.log("Error****:",l);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},s=function(e,t,n){return function(){var a=Object(l.a)(r.a.mark((function a(l){var i,u,s,m;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,l({type:o.d}),i=[],n.map((function(e,t){return i.push(e)})),u={userId:e,patientName:t,Conditions:i},a.next=7,c.a.post("".concat(o.j,"/patient/addtoconversation"),u);case 7:a.sent&&(l({type:o.e}),l(d()),A.b.success("Patient Added")),a.next=16;break;case 11:a.prev=11,a.t0=a.catch(0),m=null===a.t0||void 0===a.t0||null===(s=a.t0.response)||void 0===s?void 0:s.data,A.b.error(m),console.log("Error****:",m);case 16:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()},d=function(e){return function(){var e=Object(l.a)(r.a.mark((function e(t){var n,a,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:o.d}),e.next=4,c.a.get("".concat(o.j,"/patient/getconversationlist"));case 4:(n=e.sent)&&(t({type:o.e}),t({type:o.g,payload:n.data})),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),l=null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.data,A.b.error(l),console.log("Error****:",l);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(l.a)(r.a.mark((function t(n){var a,l,i,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:o.d}),t.next=4,c.a.post("".concat(o.j,"/patient/beginconversation"),{id:e});case 4:(a=t.sent)&&(n({type:o.e}),n({type:o.a,payload:a.data})),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),u=null===t.t0||void 0===t.t0||null===(l=t.t0.response)||void 0===l||null===(i=l.data)||void 0===i?void 0:i.message,A.b.error(u),console.log("Error****:",u);case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e,t){return function(){var n=Object(l.a)(r.a.mark((function n(a){var l,i,u,s;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:o.d}),n.next=4,c.a.post("".concat(o.j,"/patient/getconversation"),{adminId:e,patientId:t});case 4:(l=n.sent)&&(a({type:o.e}),a({type:o.b,payload:l.data})),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),s=null===n.t0||void 0===n.t0||null===(i=n.t0.response)||void 0===i||null===(u=i.data)||void 0===u?void 0:u.message,A.b.error(s),console.log("Error****:",s);case 13:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},f=function(e,t,n,a){return function(){var A=Object(l.a)(r.a.mark((function l(A){var i,u,s;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,A({type:o.d}),r.next=4,c.a.post("".concat(o.j,"/patient/addconversation"),{adminId:e,patientId:t,messageFrom:n,message:a});case 4:r.sent&&(A({type:o.e}),A(p(e,t))),r.next=13;break;case 8:r.prev=8,r.t0=r.catch(0),s=null===r.t0||void 0===r.t0||null===(i=r.t0.response)||void 0===i||null===(u=i.data)||void 0===u?void 0:u.message,a.error(s),console.log("Error****:",s);case 13:case"end":return r.stop()}}),l,null,[[0,8]])})));return function(e){return A.apply(this,arguments)}}()},v=function(e,t,n){return function(){var a=Object(l.a)(r.a.mark((function a(l){var i,u,s;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,l({type:o.d}),a.next=4,c.a.post("".concat(o.j,"/users/addsuggestion"),{adminId:e,patientId:t,Suggestion:n});case 4:a.sent&&(l({type:o.e}),l(E(e,t))),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(0),s=null===a.t0||void 0===a.t0||null===(i=a.t0.response)||void 0===i||null===(u=i.data)||void 0===u?void 0:u.message,A.b.error(s),console.log("Error****:",s);case 13:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},E=function(e,t){return function(){var n=Object(l.a)(r.a.mark((function n(a){var l,i,u,s;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:o.d}),n.next=4,c.a.post("".concat(o.j,"/users/getsuggestion"),{adminId:e,patientId:t});case 4:(l=n.sent)&&(a({type:o.e}),a({type:o.m,payload:l.data})),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),s=null===n.t0||void 0===n.t0||null===(i=n.t0.response)||void 0===i||null===(u=i.data)||void 0===u?void 0:u.message,A.b.error(s),console.log("Error****:",s);case 13:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}},497:function(e,t){e.exports="data:image/jpeg;base64,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"},507:function(e,t,n){"use strict";n.r(t);var a=n(56),r=n(508),l=n(509),o=n(394),c=n(155),A=n(428),i=n(429),u=n(505),s=n(237),d=n(95),m=n(498),p=n(503),f=n(402),v=n(493),E=n.n(v),g=n(415),b=n.n(g),y=n(0),h=n.n(y),x=n(8),j=n(411),w=n(492),O=n.n(w),k=function(e){var t=e.date,n=O()(t,"YYYY MM DD hh:mm:ss Z"),a=O()(new Date),r=O.a.duration(a.diff(n)),l=0|r.asMinutes(),o=0|r.asHours();switch(!0){case 0===l:return h.a.createElement("p",{className:"gx-text-grey gx-fs-sm gx-mb-0"},"Just now");case l<60:return h.a.createElement("p",{className:"gx-text-grey gx-fs-sm gx-mb-0"},l," min ago");case o<24:return h.a.createElement("p",{className:"gx-text-grey gx-fs-sm gx-mb-0"},o," hours ago");default:return h.a.createElement("p",{className:"gx-text-grey gx-fs-sm gx-mb-0"},n.format("DD MMM, YYYY"))}};t.default=function(){var e=Object(x.e)((function(e){return e.patient})).patients,t=Object(x.e)((function(e){return e.patient})).convoList,v=Object(x.e)((function(e){return e.patient})).plan,g=Object(x.e)((function(e){return e.patient})).convo,w=Object(x.e)((function(e){return e.patient})).suggestions,O=o.a.Option,S=JSON.parse(localStorage.getItem("User")),z=Object(y.useState)(3),M=Object(a.a)(z,2),R=M[0],Q=M[1],C=Object(y.useState)(3),B=Object(a.a)(C,2),F=B[0],I=B[1],P=Object(y.useState)("admin"),T=Object(a.a)(P,2),N=T[0],V=T[1],Y=Object(y.useState)(),L=Object(a.a)(Y,2),J=L[0],H=L[1],X=Object(y.useState)(),W=Object(a.a)(X,2),Z=W[0],D=W[1],U=Object(y.useState)(String),G=Object(a.a)(U,2),q=G[0],K=G[1],_=Object(x.d)();Object(y.useEffect)((function(){_(Object(j.f)()),_(Object(j.e)())}),[]);var $=function(e){K(q+e)},ee=Object(y.useState)(0),te=Object(a.a)(ee,2),ne=te[0],ae=te[1],re=function(){var e,t,n=0;g.map((function(a,r){"admin"===a.messageFrom&&(t=!0,e="patient"),"patient"===a.messageFrom&&!0===t&&"patient"===e&&(t=!1,e="admin",n++)})),console.log("minute count",n),ae(n)};return Object(y.useEffect)((function(){v?(console.log("effect plan ",v),D(v)):D(null)}),[v]),Object(y.useEffect)((function(){g&&re()}),[g]),h.a.createElement("div",{className:"site-card-wrapper"},h.a.createElement(A.a,{gutter:16},h.a.createElement(i.a,{span:6},h.a.createElement(u.a,{title:"Patient List",bordered:!0,extra:h.a.createElement(s.a,{content:h.a.createElement(h.a.Fragment,null,null===e||void 0===e?void 0:e.map((function(e,t){return h.a.createElement(h.a.Fragment,null,h.a.createElement(d.a,{type:"primary",ghost:!0,onClick:function(){return t=e.id,n=e.PatientName,a=e.Conditions,void _(Object(j.c)(t,n,a));var t,n,a}},e.PatientName),h.a.createElement("br",null))}))),title:h.a.createElement(h.a.Fragment,null,h.a.createElement("br",null),h.a.createElement("h4",null,"Please select a patient"))},h.a.createElement(d.a,{type:"primary",shape:"circle",icon:h.a.createElement(r.a,null),size:"large"}))},h.a.createElement("div",null,null===t||void 0===t?void 0:t.map((function(t,a){return h.a.createElement(h.a.Fragment,null,console.log(a),h.a.createElement("h2",null,h.a.createElement(E.a,{className:"gx-size-50 gx-mr-3",src:n(497)}),h.a.createElement(d.a,{size:"large",style:{color:"blue",borderColor:"blue"},onClick:function(){return function(t){_(Object(j.h)(t));var n=e.find((function(e){return e._id.toString()===t}));H(n),console.log("patient profile",n),_(Object(j.d)(S.id,n._id)),_(Object(j.g)(S.id,n._id)),n&&K("Hey ".concat(null===n||void 0===n?void 0:n.PatientName,", hope you are doing well\n"))}(t.userId)}},t.patientName)))}))))),h.a.createElement(i.a,{span:12},h.a.createElement(u.a,{title:J?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{style:{overflow:"hidden"}},h.a.createElement("h3",{style:{float:"left"}},null===J||void 0===J?void 0:J.PatientName),h.a.createElement("h6",{style:{float:"right",color:"red"}},null===J||void 0===J?void 0:J.Conditions.map((function(e,t){return h.a.createElement(h.a.Fragment,null,e,h.a.createElement("br",null))}))))):"conversation",bordered:!0},h.a.createElement("div",{style:{width:"100%",height:"200px",overflowX:"hidden",overflowY:"auto"}},g&&g.map((function(e,t){return"admin"===(null===e||void 0===e?void 0:e.messageFrom)?h.a.createElement(h.a.Fragment,null,h.a.createElement(m.a,{color:"blue",style:{float:"right",maxWidth:"300px",wordBreak:"break-word",whiteSpace:"normal"}},e.message,h.a.createElement("br",null),h.a.createElement(k,{date:e.createdAt})),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("br",null)):h.a.createElement(h.a.Fragment,null,h.a.createElement(m.a,{color:"default",style:{float:"left",maxWidth:"300px",wordBreak:"break-word",whiteSpace:"normal"}},e.message,h.a.createElement("br",null),h.a.createElement(k,{date:e.createdAt})),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("br",null))}))),h.a.createElement(p.a,{plain:!0},"Suggestions"),Z&&h.a.createElement(m.a,{color:"red"},"Follow up suggestions"),h.a.createElement("br",null),h.a.createElement("div",{style:{width:"100%",height:"120px",overflowX:"hidden",overflowY:"auto"}},Z&&Z.map((function(e){var t;return h.a.createElement(h.a.Fragment,null,h.a.createElement(m.a,{color:"magenta"},e.planName),h.a.createElement("br",null),null===e||void 0===e||null===(t=e.followUp)||void 0===t?void 0:t.slice(0,R).map((function(e,t){return h.a.createElement(m.a,{color:"green",onClick:function(){return $(e)},style:{maxWidth:"200px",wordBreak:"break-word",whiteSpace:"normal"}},e)})),h.a.createElement("br",null))})),v&&h.a.createElement(d.a,{type:"primary",size:"small",onClick:function(){Q(R+3)}},"More"),v&&h.a.createElement(d.a,{type:"primary",size:"small",onClick:function(){Q(R-3)}},"Less"),h.a.createElement("br",null),Z&&h.a.createElement(m.a,{color:"red"},"Recommended Advices for patient"),h.a.createElement("br",null),Z&&Z.slice(0,F).map((function(e){var t;return h.a.createElement(h.a.Fragment,null,h.a.createElement(m.a,{color:"magenta"},e.planName),h.a.createElement("br",null),null===e||void 0===e||null===(t=e.recommended)||void 0===t?void 0:t.slice(0,F).map((function(e,t){return h.a.createElement(m.a,{color:"green",onClick:function(){return $(e)},style:{maxWidth:"200px",wordBreak:"break-word",whiteSpace:"normal"}},e)})),h.a.createElement("br",null))})),v&&h.a.createElement(d.a,{type:"primary",size:"small",onClick:function(){I(F+3)}},"More"),v&&h.a.createElement(d.a,{type:"primary",size:"small",onClick:function(){I(F-3)}},"More")),h.a.createElement(p.a,{plain:!0},"Message"),h.a.createElement(A.a,null,h.a.createElement(i.a,{span:20},h.a.createElement(b.a,{rows:6,placeholder:"Type message here",onChange:function(e){return function(e){K(e)}(e.target.value)},bordered:!1,value:J&&q})),h.a.createElement(i.a,{span:4},h.a.createElement(d.a,{type:"primary",shape:"circle",icon:h.a.createElement(l.a,null),onClick:function(){return function(e,t,n,a){""!==a?(_(Object(j.a)(e,t,n,a)),re()):c.b.error("please type a message and then send"),K("")}(S.id,J._id,N,q)},style:{float:"right"},size:"large"}),h.a.createElement(o.a,{style:{width:100},optionFilterProp:"children",onChange:function(e){V(e),K("admin"===e?"Hey ".concat(null===J||void 0===J?void 0:J.PatientName,", hope you are doing well\n"):"")},defaultValue:N},h.a.createElement(O,{value:"admin"},"Admin"),h.a.createElement(O,{value:"patient"},"Patient")))))),h.a.createElement(i.a,{span:6},h.a.createElement(u.a,{title:"Patient Profile",bordered:!0},J&&h.a.createElement(h.a.Fragment,null,h.a.createElement("h3",null,"NAME : ",null===J||void 0===J?void 0:J.PatientName),h.a.createElement("h3",null,"EMAIL : ",null===J||void 0===J?void 0:J.Email),h.a.createElement("h3",null,"Home Phone : ",null===J||void 0===J?void 0:J.HomePhone),h.a.createElement("h3",null,"Primary Insurance : ",null===J||void 0===J?void 0:J.PrimaryInsurance),h.a.createElement("h3",null,"social security# : ",null===J||void 0===J?void 0:J.SSN),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("h2",{style:{color:"red"}},"Conditions"),h.a.createElement("h3",{style:{color:"red"}},null===J||void 0===J?void 0:J.Conditions.map((function(e,t){return h.a.createElement(h.a.Fragment,null,e,h.a.createElement("br",null))}))),h.a.createElement("br",null),h.a.createElement("h3",null,ne," ","minutes"))),h.a.createElement(u.a,{title:"Custom Suggestions",bordered:!0},h.a.createElement(f.a,{type:"text",bordered:!0,onPressEnter:function(e){return t=e.target.value,void _(Object(j.i)(null===S||void 0===S?void 0:S.id,null===J||void 0===J?void 0:J._id,t));var t}}),h.a.createElement("br",null),h.a.createElement("br",null),w&&w.map((function(e,t){return h.a.createElement(h.a.Fragment,null,h.a.createElement(m.a,{color:"magenta",style:{wordBreak:"break-word",whiteSpace:"normal"},onClick:function(){return $(e.Suggestion)}},e.Suggestion))}))))))}}}]);
//# sourceMappingURL=6.864d44b0.chunk.js.map